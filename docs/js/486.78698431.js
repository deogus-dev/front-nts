"use strict";(self["webpackChunkfrontend_nts"]=self["webpackChunkfrontend_nts"]||[]).push([[486],{8486:function(t,s,a){a.r(s),a.d(s,{default:function(){return g}});var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"fs-1"},[t._v(" This is Page 2"),s("br"),s("router-link",{attrs:{to:{name:"main"}}},[t._v("to main")]),s("kakao-map")],1)},o=[],i=function(){var t=this,s=t._self._c;return s("section",{staticClass:"h-100"},[s("div",{attrs:{id:"map"}}),s("p",[s("button",{staticClass:"btn",class:t.status?"btn-success":"btn-secondary",attrs:{disabled:!t.status,onclick:"alert('반경 안에 있음!')"}},[t._v(" 출석체크 ")])]),s("small",[t._v(t._s(t.curPos))])])},n=[],c={data(){return{map:null,circle:null,curPos:{latitude:33.450701,longitude:126.570667},status:!1}},created(){console.log("created"),"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((t=>{console.log("watchposition"),this.curPos.latitude=t.coords.latitude,this.curPos.longitude=t.coords.longitude,this.initMap}),(t=>{console.log(t.message)}))},mounted(){if(window.kakao&&window.kakao.maps)console.log("initmap"),this.initMap();else{console.log("script");const t=document.createElement("script");t.src="//dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=8425cb2bc152a90c5eae2c00e29f04dc",t.addEventListener("load",(()=>{kakao.maps.load(this.initMap)})),document.head.appendChild(t)}},watch:{curPos:{handler:function(){this.circle&&this.chkPos()},deep:!0}},methods:{chkPos(){this.curPos.longitude>this.circle.getBounds().ha&&this.curPos.latitude>this.circle.getBounds().qa&&this.curPos.longitude<this.circle.getBounds().oa&&this.curPos.latitude<this.circle.getBounds().pa?this.status=!0:this.status=!1},initMap(){var t=document.getElementById("map"),s={center:new kakao.maps.LatLng(this.curPos.latitude,this.curPos.longitude),level:3};this.map=new kakao.maps.Map(t,s);var a=new kakao.maps.Marker({position:this.map.getCenter()});a.setMap(this.map);var e=this;kakao.maps.event.addListener(this.map,"click",(function(t){var s=t.latLng;a.setPosition(s),e.curPos.latitude=s.getLat(),e.curPos.longitude=s.getLng()})),this.circle=new kakao.maps.Circle({center:new kakao.maps.LatLng(this.curPos.latitude,this.curPos.longitude),radius:100,strokeWeight:5,strokeColor:"#75B8FA",strokeOpacity:1,strokeStyle:"dashed",fillColor:"#CFE7FF",fillOpacity:.7}),this.circle.setMap(this.map),this.chkPos()}}},l=c,r=a(3736),u=(0,r.Z)(l,i,n,!1,null,null,null),d=u.exports,h={components:{kakaoMap:d}},p=h,k=(0,r.Z)(p,e,o,!1,null,null,null),g=k.exports}}]);
//# sourceMappingURL=486.78698431.js.map