"use strict";(self["webpackChunkfrontend_nts"]=self["webpackChunkfrontend_nts"]||[]).push([[674],{4400:function(t,o,a){a.d(o,{Z:function(){return c}});var s=function(){var t=this;t._self._c;return t._m(0)},e=[function(){var t=this,o=t._self._c;return o("div",{staticClass:"h-100"},[o("div",{staticClass:"h-100",attrs:{id:"map"}})])}],i=(a(1703),{props:["status","compLoc"],data(){return{interval:null,time:null,map:null,marker:null,position:{lat:37.51082,lng:127.02928},circle:[]}},created(){console.log("[created]"),"geolocation"in navigator&&this.getCurPos()},mounted(){if(console.log("[mounted]"),window.kakao&&window.kakao.maps)this.initMap();else{const t=document.createElement("script");t.src="//dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=8425cb2bc152a90c5eae2c00e29f04dc",t.addEventListener("load",(()=>{kakao.maps.load(this.initMap)})),document.head.appendChild(t)}},watch:{position:{handler:function(){if(console.log("watch call"),this.map){var t=new kakao.maps.LatLng(this.position.lat,this.position.lng);this.map.setCenter(t),this.marker.setPosition(t),this.posCheck()}},deep:!0}},beforeDestroy(){console.log("[beforedestroy]"),navigator.geolocation.clearWatch(this.interval)},destroyed(){console.log(this.interval)},methods:{initMap(){console.log("[methods]-[initmap]");var t=document.getElementById("map"),o={center:new kakao.maps.LatLng(this.position.lat,this.position.lng),level:4};this.map=new kakao.maps.Map(t,o),this.marker=new kakao.maps.Marker({position:this.map.getCenter()}),this.marker.setMap(this.map),this.compLoc.forEach((t=>{this.circle.push(new kakao.maps.Circle({center:new kakao.maps.LatLng(t.lat,t.lng)}))})),this.circle.forEach((t=>{t.setMap(this.map)})),kakao.maps.event.addListener(this.map,"click",(t=>{var o=t.latLng;this.marker.setPosition(o),this.position.lat=o.getLat(),this.position.lng=o.getLng()}))},getCurPos(){console.log("call getCurPos"),navigator.geolocation&&(this.interval=navigator.geolocation.watchPosition((t=>{this.position.lat=t.coords.latitude,this.position.lng=t.coords.longitude}),(t=>{console.log("error! ",t.message)}),{enableHighAccuracy:!1}))},posCheck(){try{this.circle.forEach((t=>{if(this.position.lng>t.getBounds().ha&&this.position.lat>t.getBounds().qa&&this.position.lng<t.getBounds().oa&&this.position.lat<t.getBounds().pa)throw this.$emit("setStatus",!0),new Error("stop loop");this.$emit("setStatus",!1)}))}catch(t){}}}}),n=i,l=a(3736),r=(0,l.Z)(n,s,e,!1,null,null,null),c=r.exports},1674:function(t,o,a){a.r(o),a.d(o,{default:function(){return p}});var s=function(){var t=this,o=t._self._c;return o("div",{staticClass:"fs-1 h-100"},[o("kakao-map")],1)},e=[],i=a(4400),n={components:{kakaoMap:i.Z}},l=n,r=a(3736),c=(0,r.Z)(l,s,e,!1,null,null,null),p=c.exports}}]);
//# sourceMappingURL=674.781db5f3.js.map