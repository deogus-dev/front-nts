"use strict";(self["webpackChunkfrontend_nts"]=self["webpackChunkfrontend_nts"]||[]).push([[305],{2305:function(t,s,e){e.r(s),e.d(s,{default:function(){return g}});var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"fs-1 h-100"},[s("kakao-map")],1)},o=[],i=function(){var t=this,s=t._self._c;return s("section",{staticClass:"h-100"},[s("div",{attrs:{id:"map"}}),s("p",[s("button",{staticClass:"btn",class:t.status?"btn-success":"btn-secondary",attrs:{disabled:!t.status,onclick:"alert('반경 안에 있음!')"}},[t._v(" #출석 체크# ")])]),s("small",[t._v(t._s(t.curPos))])])},n=[],c={data(){return{map:null,circle:null,curPos:{latitude:37.50194367899989,longitude:127.03729226862431},status:!1}},created(){console.log("created"),"geolocation"in navigator&&navigator.geolocation.watchPosition((t=>{this.curPos.latitude=t.coords.latitude,this.curPos.longitude=t.coords.longitude,this.map.setCenter(new kakao.maps.LatLng(this.curPos.latitude,this.curPos.longitude))}),(t=>{console.log(t.message)}))},mounted(){if(console.log("mounted"),window.kakao&&window.kakao.maps)this.setPosition(),this.initMap();else{const t=document.createElement("script");t.src="//dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=8425cb2bc152a90c5eae2c00e29f04dc",t.addEventListener("load",(()=>{kakao.maps.load(this.initMap)})),document.head.appendChild(t)}},watch:{curPos:{handler:function(){this.circle&&this.chkPos()},deep:!0}},methods:{setPosition(){navigator.geolocation.getCurrentPosition((t=>{this.curPos.latitude=t.coords.latitude,this.curPos.longitude=t.coords.longitude}),(t=>{console.log(t.message)}))},chkPos(){this.curPos.longitude>this.circle.getBounds().ha&&this.curPos.latitude>this.circle.getBounds().qa&&this.curPos.longitude<this.circle.getBounds().oa&&this.curPos.latitude<this.circle.getBounds().pa?this.status=!0:this.status=!1},initMap(){console.log("init map");var t=document.getElementById("map"),s={center:new kakao.maps.LatLng(this.curPos.latitude,this.curPos.longitude),level:6};this.map=new kakao.maps.Map(t,s);var e=new kakao.maps.Marker({position:this.map.getCenter()});e.setMap(this.map);var a=this;kakao.maps.event.addListener(this.map,"click",(function(t){var s=t.latLng;e.setPosition(s),a.curPos.latitude=s.getLat(),a.curPos.longitude=s.getLng()})),this.circle=new kakao.maps.Circle({center:new kakao.maps.LatLng(this.curPos.latitude,this.curPos.longitude),radius:1e3,strokeWeight:5,strokeColor:"#75B8FA",strokeOpacity:1,strokeStyle:"dashed",fillColor:"#CFE7FF",fillOpacity:.7}),this.circle.setMap(this.map),this.chkPos()}}},l=c,r=e(3736),u=(0,r.Z)(l,i,n,!1,null,null,null),d=u.exports,h={components:{kakaoMap:d}},p=h,k=(0,r.Z)(p,a,o,!1,null,null,null),g=k.exports}}]);
//# sourceMappingURL=305.6d79136b.js.map