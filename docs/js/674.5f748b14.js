"use strict";(self["webpackChunkfrontend_nts"]=self["webpackChunkfrontend_nts"]||[]).push([[674],{9746:function(t,a,o){o.d(a,{Z:function(){return c}});var s=function(){var t=this;t._self._c;return t._m(0)},e=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"h-100"},[a("div",{staticClass:"h-100",attrs:{id:"map"}})])}],i=(o(1703),{props:["status","compLoc"],data(){return{interval:null,time:null,map:null,marker:null,position:{lat:37.51082,lng:127.02928},circle:[]}},created(){console.log("[created]"),"geolocation"in navigator&&this.getCurPos()},mounted(){if(console.log("[mounted]"),window.kakao&&window.kakao.maps)this.initMap();else{const t=document.createElement("script");t.src="//dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=8425cb2bc152a90c5eae2c00e29f04dc",t.addEventListener("load",(()=>{kakao.maps.load(this.initMap)})),document.head.appendChild(t)}},watch:{position:{handler:function(){if(console.log("watch call"),this.map){var t=new kakao.maps.LatLng(this.position.lat,this.position.lng);this.map.setCenter(t),this.marker.setPosition(t),this.posCheck()}},deep:!0}},beforeDestroy(){console.log("[beforedestroy]"),navigator.geolocation.clearWatch(this.interval)},destroyed(){console.log(this.interval)},methods:{initMap(){console.log("[methods]-[initmap]");var t=document.getElementById("map"),a={center:new kakao.maps.LatLng(this.position.lat,this.position.lng),level:4};this.map=new kakao.maps.Map(t,a),this.marker=new kakao.maps.Marker({position:this.map.getCenter()}),this.marker.setMap(this.map),this.compLoc.forEach((t=>{this.circle.push(new kakao.maps.Circle({center:new kakao.maps.LatLng(t.lat,t.lng)}))})),this.circle.forEach((t=>{t.setMap(this.map)})),this.map.setDraggable(!0),kakao.maps.event.addListener(this.map,"click",(t=>{var a=t.latLng;this.marker.setPosition(a),this.position.lat=a.getLat(),this.position.lng=a.getLng()}))},getCurPos(){console.log("call getCurPos"),navigator.geolocation&&(this.interval=navigator.geolocation.watchPosition((t=>{this.position.lat=t.coords.latitude,this.position.lng=t.coords.longitude}),(t=>{console.log("error! ",t.message)}),{enableHighAccuracy:!1}))},posCheck(){try{this.circle.forEach((t=>{if(this.position.lng>t.getBounds().ha&&this.position.lat>t.getBounds().qa&&this.position.lng<t.getBounds().oa&&this.position.lat<t.getBounds().pa)throw this.$emit("setStatus",!0),new Error("stop loop");this.$emit("setStatus",!1)}))}catch(t){}}}}),n=i,l=o(3736),r=(0,l.Z)(n,s,e,!1,null,null,null),c=r.exports},1674:function(t,a,o){o.r(a),o.d(a,{default:function(){return p}});var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"fs-1 h-100"},[a("kakao-map")],1)},e=[],i=o(9746),n={components:{kakaoMap:i.Z}},l=n,r=o(3736),c=(0,r.Z)(l,s,e,!1,null,null,null),p=c.exports}}]);
//# sourceMappingURL=674.5f748b14.js.map