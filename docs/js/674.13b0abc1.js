"use strict";(self["webpackChunkfrontend_nts"]=self["webpackChunkfrontend_nts"]||[]).push([[674],{4625:function(t,a,o){o.d(a,{Z:function(){return r}});var i=function(){var t=this;t._self._c;return t._m(0)},e=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"h-100"},[a("div",{staticClass:"h-100",attrs:{id:"map"}})])}],n=(o(1703),{props:["locationInfo"],data(){return{interval:null,time:null,map:null,marker:null,compLoc:[],position:{lat:37.51082,lng:127.02928},circle:[]}},created(){"geolocation"in navigator&&this.getCurPos()},mounted(){if(window.kakao&&window.kakao.maps)this.initMap();else{const t=document.createElement("script");t.src="//dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=8425cb2bc152a90c5eae2c00e29f04dc",t.addEventListener("load",(()=>{kakao.maps.load(this.initMap)})),document.head.appendChild(t)}},watch:{position:{handler:function(){if(this.map){var t=new kakao.maps.LatLng(this.position.lat,this.position.lng);this.map.setCenter(t),this.marker.setPosition(t),this.posCheck()}},deep:!0},compLoc:{handler:function(){this.initMap()},deep:!0}},beforeDestroy(){navigator.geolocation.clearWatch(this.interval)},destroyed(){},methods:{async initMap(){var t=document.getElementById("map"),a={center:new kakao.maps.LatLng(this.position.lat,this.position.lng),level:4};this.map=new kakao.maps.Map(t,a),this.marker=new kakao.maps.Marker({position:this.map.getCenter()}),this.marker.setMap(this.map);const o=await this.$axios.get("/company-locations",{params:{email:"it1713@gsitm.com"}});200===o.status&&(console.log(o.data),o.data.forEach((t=>{this.circle.push(new kakao.maps.Circle({center:new kakao.maps.LatLng(t.latitude,t.longitude),fillColor:t.locationCode}))})),this.circle.forEach((t=>{t.setMap(this.map)})),this.posCheck()),this.map.setDraggable(!0),kakao.maps.event.addListener(this.map,"click",(t=>{var a=t.latLng;this.marker.setPosition(a),this.position.lat=a.getLat(),this.position.lng=a.getLng()}))},getCurPos(){navigator.geolocation&&(this.interval=navigator.geolocation.watchPosition((t=>{this.position.lat=t.coords.latitude,this.position.lng=t.coords.longitude}),(t=>{console.log("error! ",t.message)}),{enableHighAccuracy:!1}))},posCheck(){try{console.log(this.circle),this.circle.forEach((t=>{if(this.position.lng>t.getBounds().ha&&this.position.lat>t.getBounds().qa&&this.position.lng<t.getBounds().oa&&this.position.lat<t.getBounds().pa)throw this.$emit("setLocationInfo",{circleIn:!0,locCode:t.Eb.fillColor}),new Error("stop loop");this.$emit("setLocationInfo",{circleIn:!1,locCode:null})}))}catch(t){}}}}),s=n,l=o(3736),c=(0,l.Z)(s,i,e,!1,null,null,null),r=c.exports},1674:function(t,a,o){o.r(a),o.d(a,{default:function(){return p}});var i=function(){var t=this,a=t._self._c;return a("div",{staticClass:"fs-1 h-100"},[a("kakao-map")],1)},e=[],n=o(4625),s={components:{kakaoMap:n.Z}},l=s,c=o(3736),r=(0,c.Z)(l,i,e,!1,null,null,null),p=r.exports}}]);
//# sourceMappingURL=674.13b0abc1.js.map